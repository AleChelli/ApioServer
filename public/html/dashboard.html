<html>

<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description" content="" />
    <meta name="author" content="" />
    <title>Apio Developer Dashboard</title>
    <!-- Bootstrap Core CSS -->
    <link href="/bootstrap/css/bootstrap.min.css" rel="stylesheet" />
    <link href="/bootstrapModal/css/bootstrap-modal.css" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="/javascripts/bower_components/bootstrap-sweetalert/lib/sweet-alert.css">
    <!-- Custom CSS -->
    <style type="text/css">
        ul.marketcloud-dashboard-sidebar-list > li:hover,
        ul.marketcloud-dashboard-sidebar-list > li.active {
            background-color: #111;
        }
        ul.marketcloud-dashboard-sidebar-list > li {
            display: block;
            font-size: 16px;
            width: 200px;
            position: relative;
            padding: 10px 5px;
        }
        .marketcloud-dashboard-sidebar-mobile >ul.marketcloud-dashboard-sidebar-list > li {
            display: block;
            font-size: 16px;
            width: 50px;
            position: relative;
            padding: 10px 5px 10px 5px;
        }
        .marketcloud-dashboard-sidebar-mobile >ul.marketcloud-dashboard-sidebar-list > li > a {
            color: white;
            display: block;
            text-align: center;
            margin: 0px;
            font-size: 20px;
        }
        ul.marketcloud-dashboard-sidebar-list > li > a {
            color: white;
            display: block;
            margin-left: 20px;
        }
        ul.marketcloud-dashboard-sidebar-list > li > a:hover {
            text-decoration: none;
        }
        .marketcloud-dashboard-sidebar {
            position: fixed;
            top: 0px;
            bottom: 0;
            padding: 0px;
            background-color: #222;
            box-shadow: -1px 0 0 #2b3136 inset;
            -webkit-box-sizing: border-box;
            -moz-box-sizing: border-box;
            box-sizing: border-box;
        }
        .marketcloud-dashboard-sidebar-mobile {
            position: fixed;
            top: 0px;
            bottom: 0;
            padding: 0px;
            background-color: #222;
            box-shadow: -1px 0 0 #2b3136 inset;
            -webkit-box-sizing: border-box;
            -moz-box-sizing: border-box;
            box-sizing: border-box;
        }
        .dashboardPage {
            display: none;
        }
        .dashboardPage.active {
            display: block;
        }
        .nav-tabs>li.active>a,
        .nav-tabs>li.active>a:hover,
        .nav-tabs>li.active>a:focus {
            font-weight: bold;
        }
        .nav > li > a {
            padding: 10px 35px;
        }
        .virtualObject {
            border: 2px
        }
        .dashboard-right-pane {
            margin-left: 200px;
        }
        @media (max-width: 900px) {
            .dashboard-right-pane {
                margin-right: 35px;
            }
            .marketcloud-dashboard-sidebar {
                display: none;
            }
            .marketcloud-dashboard-sidebar-mobile {
                display: block;
            }
        }
    </style>
    <!-- Custom Fonts -->
</head>
<link href="/font-awesome/css/font-awesome.min.css" rel="stylesheet" />

<body>
    <div style="min-height:800px;background-color:white;">
        <div ng-app="ApioDashboardApplication" ng-controller="ApioDashboardController" ng-init="initApioDashboard()" class="container-fluid">



<!--modal for editor-->
<div id="static" class="modal fade" tabindex="-1" data-backdrop="static" data-keyboard="false" style="display: none;">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
        <h4 class="modal-title">Edit your object</h4>
      </div>
      <div class="modal-body">
        <wizard-editor></wizard-editor>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary">Save changes</button>
      </div>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div><!-- /.modal -->





            <div class="row">
                <div style="padding:0px;" class="col-xs-2">
                    <div class="marketcloud-dashboard-sidebar-mobile">
                        <ul style="list-style-image:none;padding-left:0px;" class="marketcloud-dashboard-sidebar-list">
                            <li><a href="#" ng-click="switchPage('Home')"><i class="fa fa-home"></i></a>
                            </li>
                            <li><a href="#" ng-click="switchPage('Objects')"><i class="fa fa-th"></i> </a>
                            </li>
                            <li><a href="#" ng-click="switchPage('Events')"><i class="fa fa-bell"></i></a>
                            </li>
                            <li><a href="#" ng-click="switchPage('States')"><i class="fa fa-check"></i></a>
                            </li>
                            <li><a href="#" ng-click="switchPage('Settings')"><i class="fa fa-gear"></i>  </a>
                            </li>
                            <li><a href="#" ng-click="switchPage('Documentation')"><i class="fa fa-book"></i>  </a>
                            </li>
                        </ul>
                    </div>
                    <div class="marketcloud-dashboard-sidebar">
                        <ul style="list-style-image:none;padding-left:0px;" class="marketcloud-dashboard-sidebar-list">
                            <li><a href="#" ng-click="switchPage('Home')"><i class="fa fa-home" style="margin-right:10px;"></i>  Home</a>
                            </li>
                            <li><a href="#" ng-click="switchPage('Objects')"><i class="fa fa-th" style="margin-right:10px;"></i>  Objects</a>
                            </li>
                            <li><a href="#" ng-click="switchPage('Events')"><i class="fa fa-bell" style="margin-right:10px;"></i>  Events</a>
                            </li>
                            <li><a href="#" ng-click="switchPage('States')"><i class="fa fa-check" style="margin-right:10px;"></i>  States                          </a>
                            </li>
                            <li><a href="#" ng-click="switchPage('Settings')"><i class="fa fa-gear" style="margin-right:10px;"></i>  Settings  </a>
                            </li>
                            <li><a href="#" ng-click="switchPage('Documentation')"><i class="fa fa-book" style="margin-right:10px;"></i>  Documentation                                                  </a>
                            </li>
                        </ul>
                    </div>
                </div>
                <div class="dashboard-right-pane">
                    <div>
                        <div class="row">
                            <div class="col-xs-12">
                                <h2 style="text-align:center;"><i class="fa fa-code"></i> Developer Dashboard</h2>
                                <div class="pull-right">
                                    <button class="btn btn-default btn-sm" ng-click="sync($event)"><i class="fa fa-refresh"></i></button>
                                </div>
                            </div>
                        </div>
                        <div id="Home" class="dashboardPage container-fluid active">
                            <div style="margin-top:100px;" class="row">
                                <div class="col-xs-8 col-xs-offset-2">
                                    <p>Use the following input to send Apio encoded strings to the Apio board</p>
                                    <fieldset>
                                        <div class="input-group">
                                            <input id="keyvalue" type="text" placeholder="Put the Apio encoded string here" ng-model="encodedString" class="form-control input-lg" /><span class="input-group-btn"><button id="sendKeyValue" type="button" ng-click="sendEncodedString()" class="btn btn-primary btn-lg">Send to Apio</button></span>
                                        </div>
                                        <div class="col-lg-4">
                                            <div class="checkbox">
                                                <label>
                                                    <input id="writeToDatabase" type="checkbox" ng-model="writeToDatabase" /> Write to database</label>
                                            </div>
                                        </div>
                                        <div class="col-lg-4">
                                            <div class="checkbox">
                                                <label>
                                                    <input id="writeToSerial" type="checkbox" ng-model="writeToSerial" /> Write to serial port</label>
                                            </div>
                                        </div>
                                    </fieldset>
                                </div>
                            </div>
                        </div>
                        <div id="Objects" class="dashboardPage container-fluid">
                            <ul role="tablist" class="nav nav-tabs">
                                <li class="active"><a id="objectIdTrigger" href="#ObjectsList" role="tab" data-toggle="tab">Objects</a>
                                </li>
                                <li><a href="#newApp" role="tab" data-toggle="tab">New</a>
                                </li>
                            </ul>
                            <div class="tab-content">
                                <div id="ObjectsList" class="tab-pane active">
                                    <div tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" id="appModal" class="modal fade">
                                        <div class="modal-dialog">
                                            <div class="modal-content">
                                                <div class="modal-header">
                                                    <button type="button" data-dismiss="modal" class="close"><span aria-hidden="true">×</span><span class="sr-only">Close</span>
                                                    </button>
                                                    <h4 id="myModalLabel" class="modal-title"> {{currentApplication.name}}</h4>
                                                </div>
                                                <div class="modal-body">
                                                    <p>Double click on a property value to change its value. Press Enter to save the new value.</p>
                                                    <table class="table table-bordered">
                                                        <thead>
                                                            <tr>
                                                                <th>Property</th>
                                                                <th>Value </th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            <tr ng-repeat="(prop,value) in currentApplication.properties">
                                                                <td>{{prop}} </td>
                                                                <td>
                                                                    <div ui-keypress="{enter:'handleEnterKeyOnProperty(prop,$event)'}" ng-dblclick="handleDoubleClickOnProperty($event)" class="propertyValueContainer">{{currentApplication.properties[prop]}}</div>
                                                                </td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </div>
                                                <div class="modal-footer">
                                                   
                                                   <div class="btn-toolbar" role="toolbar" style="float:left">
                                                      <div class="btn-group">
                                                        <button type="button" class="btn btn-default" aria-label="Delete" ng-click="deleteApioApplication()"><span class="fa fa-times" aria-hidden="true"></span></button>
                                                        <button type="button" class="btn btn-default" aria-label="Modify" ng-click="modifyApioApplication()"><span class="fa fa-edit" aria-hidden="true"></span></button>
                                                        <button type="button" class="btn btn-default" aria-label="Import" ng-click="importApioApplication()"><span class="fa fa-cloud-upload" aria-hidden="true"></span></button>
                                                        <button type="button" class="btn btn-default" aria-label="Export" ng-click="exportApioApplication()"><span class="fa fa-cloud-download" aria-hidden="true"></span></button>
                                                      </div>
                                                   </div>
                                                    
                                                    <button type="button" data-dismiss="modal" class="btn btn-default">Close</button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>



                                    <div STYLE="margin-top:100px;" class="row">
                                        <div ng-repeat="obj in objects track by $index" style="height:100px;text-align:center;margin-top:50px;" class="col-lg-2 col-xs-4">
                                            <button ng-click="launchApplication(obj)" ng-class="{virtual : virtualObject}" style="width:100px;height:100px;" class="btn btn-default btn-lg"><img class="launcherIcon" ng-src="/javascripts/applications/{{obj.objectId}}/icon.png" style="width:60px;" onError="this.onerror=null;this.src='/images/Apio_Logo.png';" />
                                            </button>
                                            <div><b style="font-size:12px;">{{obj.name}}</b>
                                            </div>
                                            <div tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" class="modal fade {{obj.objectId}}">
                                                <div class="modal-dialog">
                                                    <div class="modal-content">
                                                        <div class="modal-header">
                                                            <button type="button" data-dismiss="modal" class="close"><span aria-hidden="true">×</span><span class="sr-only">Close</span>
                                                            </button>
                                                            <h4 id="myModalLabel" class="modal-title"> {{obj.name}}</h4>
                                                        </div>
                                                        <div class="modal-body">
                                                            <div ng-repeat="(key,value) in obj.properties" style="border-bottom:1px solid #333;padding:5px;">
                                                                <div class="row">
                                                                    <div class="col-xs-8"><b>{{key}}</b>
                                                                    </div>
                                                                    <div class="col-xs-4">
                                                                        <div ng-click="alert('')">{{value}}</div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="modal-footer">
                                                            <button type="button" data-dismiss="modal" class="btn btn-default">Close</button>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div id="NewVirtualObject" class="tab-pane">
                                    <h2>New Object</h2>
                                    <div class="row">
                                        <div class="col-xs-4">
                                            <div class="panel panel-default">
                                                <div class="panel-heading">
                                                    <h4>Preview</h4>
                                                </div>
                                                <div class="panel-body">
                                                    <table class="table table-bordered">
                                                        <tr ng-repeat="(key,value) in newObject" ng-switch="key">
                                                            <td>{{key}}</td>
	                                                        <td ng-switch-when="properties">
                                                                <ul>
                                                                    <li ng-repeat="v in value">{{v.name}}</li>
                                                                </ul>
                                                            </td>
															<td ng-switch-when="pins">
                                                                <ul>
                                                                    <li ng-repeat="v in value">{{v.name}}</li>
                                                                </ul>
                                                            </td>
                                                            <td ng-switch-when="functions">
                                                                <ul>
                                                                    <li ng-repeat="v in value">{{v.name}}</li>
                                                                </ul>
                                                            </td>
                                                            <td ng-switch-when="variables">
                                                                <ul>
                                                                    <li ng-repeat="v in value">{{v.name}}</li>
                                                                </ul>
                                                            </td>
                                                            <td ng-switch-default>{{value}}</td>
                                                        </tr>
                                                    </table>
                                                </div>
                                            </div>
                                            <div class="panel panel-default">
                                                <div class="panel-heading">
                                                    <h4>Preview Firmwire</h4>
                                                </div>
                                                <div class="panel-body">
                                                    <p>void setup(){</p>
                                                    <p ng-repeat="v in newObject.pins">pinMode({{v.name}},{{v.type}});</p>
													<p>}</p>
													<p>void loop(){</p>
													<p>}</p>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-xs-8">
                                            <div class="form">
                                                <h2>Basic informations</h2>
                                                <div class="form-group">
                                                    <label>Name</label>
                                                    <input id="name" type="text" placeholder="Name" ng-model="newObject.name" class="form-control input-lg" />
                                                </div>
                                                <div class="form-group">
                                                    <label>Microcontroller Family</label>
                                                    <input id="address" type="text" placeholder="Microcontroller family" ng-model="newObject.microFamily" class="form-control input-lg" />
                                                </div>
                                                <div class="form-group">
                                                    <label>Microcontroller Type</label>
                                                    <input id="address" type="text" placeholder="Microcontroller type" ng-model="newObject.microType" class="form-control input-lg" />
                                                </div>
                                                <div class="form-group">
                                                    <label>Address</label>
                                                    <input id="address" type="text" placeholder="Address" ng-model="newObject.address" class="form-control input-lg" />
                                                </div>
                                                <div class="form-group">
                                                    <label>Protocol</label>
                                                    <select id="protocol" ng-model="newObject.protocol" class="form-control input-lg">
                                                        <option value="l">LightWeaveMesh</option>
                                                        <option value="z">Zigbee</option>
                                                        <option value="b">Bluetooth</option>
                                                        <option value="w">Wi-Fi</option>
                                                    </select>
                                                </div>
                                                <div class="form-group">
                                                    <label>Object ID</label>
                                                    <input id="objectId" type="text" placeholder="ObjectId" ng-model="newObject.objectId" class="form-control input-lg" />
                                                    <div class="checkbox">
                                                        <label>
                                                            <input id="unique" type="checkbox" ng-model="newObject.unique" /> Unique</label>
                                                    </div>
                                                    <div class="checkbox">
                                                        <label>
                                                            <input id="event" type="checkbox" ng-model="newObject.event" /> Event</label>
                                                    </div>
                                                    <div class="checkbox">
                                                        <label>
                                                            <input id="programmed" type="checkbox" ng-model="newObject.programmed" /> Programmed</label>
                                                    </div>
                                                </div>
                                            </div>
                                            <br/>
                                            <div class="form">
                                                <h2>Pins</h2>
                                                <div class="form-group">
                                                    <label>Pin name</label>
                                                    <input id="keyvalue" type="text" placeholder="name" ng-model="newPin.name" class="form-control input-lg" />
                                                </div>
                                                <div class="form-group">
                                                    <label>Pin number</label>
                                                    <input id="keyvalue" type="text" placeholder="number" ng-model="newPin.number" class="form-control input-lg" />
                                                </div>
                                                <div class="form-group">
                                                    <label>Pin type</label>
                                                    <select ng-model="newPin.type" ng-change="alert('cane')" class="form-control input-lg">
                                                        <option value="OUTPUT"> Output</option>
                                                        <option value="INPUT"> Input</option>
                                                    </select>
                                                </div>
                                                <button ng-click="addNewPin()" class="btn btn-success btn-lg"><i class="fa fa-plus"></i> Add Pin</button>

                                                <h2>Variables</h2>
                                                <div class="form-group">
                                                    <label>Variable name</label>
                                                    <input id="keyvalue" type="text" placeholder="name" ng-model="newVariable.name" class="form-control input-lg" />
                                                </div>
                                                <div class="form-group">
                                                    <label>Variable Initial Value</label>
                                                    <input id="keyvalue" type="text" placeholder="number" ng-model="newVariable.number" class="form-control input-lg" />
                                                </div>
                                                <div class="form-group">
                                                    <label>Variable type</label>
													<input id="keyvalue" type="text" placeholder="number" ng-model="newVariable.type" class="form-control input-lg" />
                                                </div>
                                                <button ng-click="addNewVariable()" class="btn btn-success btn-lg"><i class="fa fa-plus"></i> Add Variable</button>
                                                <h2>Object Functions</h2>
                                                <div class="form-group">
                                                    <label>Function</label>
													<textarea  class="form-control" rows="3" ng-model="newFunction.text" placeholder="void nameFunction(attributes){}">
													</textarea>
                                                </div>
                                                <button ng-click="addNewFunction()" class="btn btn-success btn-lg"><i class="fa fa-plus"></i> Add Function</button>
                                                
                                                <h2>Properties</h2>
                                                <div class="form-group">
                                                    <label>Property name</label>
                                                    <input id="keyvalue" type="text" placeholder="name" ng-model="newProperty.name" class="form-control input-lg" />
                                                </div>
                                                <p>The following form lets you add information about how to visualize the property. It will affect the range of possible values the property can represent.</p>
                                                <div class="form-group">
                                                    <label>Property type</label>
                                                    <select ng-model="newProperty.type" ng-change="alert('cane')" class="form-control input-lg">
                                                        <option value="Trigger"> Trigger</option>
                                                        <option value="Slider"> Slider</option>
                                                        <option value="Button"> Button</option>
                                                        <option value="Text"> Text</option>
                                                        <option value="Number"> Number</option>
                                                        <option value="DynamicView"> DynamicView</option>
                                                        <option value="List">List</option>
                                                    </select>
                                                </div>
                                                <div id="propertyBuilderContainer" class="form-group">
                                                    <!--Riempito a seconda di che cazzo ci devo mettere-->
                                                    <div id="TriggerBuilder" ng-show="newProperty.type == 'Trigger'" class="propertyBuilderField">
                                                        <div class="form-group">
                                                            <label>On value </label>
                                                            <input ng-model="newProperty.on" class="form-control input-sm" />
                                                        </div>
                                                        <div class="form-group">
                                                            <label>Associated Function</label>
                                                            <input type="text" ng-model="newProperty.onFunction" class="form-control input-sm" />
                                                        </div>
                                                        <div class="form-group">
                                                            <label>Off value </label>
                                                            <input ng-model="newProperty.off" class="form-control input-sm" />
                                                        </div>
                                                        <div class="form-group">
                                                            <label>Associated Function</label>
                                                            <input type="text" ng-model="newProperty.offFunction" class="form-control input-sm" />
                                                        </div>                                                        
                                                        <div class="form-group">
                                                            <label>Default value</label>
                                                            <input type="text" ng-model="newProperty.defaultValue" class="form-control input-sm" />
                                                        </div>
                                                    </div>
                                                    <div id="SliderBuilder" ng-show="newProperty.type == 'Slider'" class="propertyBuilderField">
                                                        <div class="form-group">
                                                            <label>Minimum value </label>
                                                            <input ng-model="newProperty.min" class="form-control input-sm" />
                                                        </div>
                                                        <div class="form-group">
                                                            <label>Maxiumum value</label>
                                                            <input ng-model="newProperty.max" class="form-control input-sm" />
                                                        </div>
                                                        <div class="form-group">
                                                            <label>Step</label>
                                                            <input ng-model="newProperty.step" class="form-control input-sm" />
                                                        </div>
                                                        <div class="form-group">
                                                            <label>Default value</label>
                                                            <input type="text" ng-model="newProperty.defaultValue" class="form-control input-sm" />
                                                        </div>
                                                        <div class="form-group">
                                                            <label>Associated Function</label>
                                                            <input type="text" ng-model="newProperty.sliderFunction" class="form-control input-sm" />
                                                        </div>
                                                    </div>
                                                    <div id="SliderBuilder" ng-show="newProperty.type == 'List'" class="propertyBuilderField">
                                                        <div class="form-group">
                                                            <label>Item name </label>
                                                            <input ng-model="newListItemName" class="form-control input-sm" />
                                                        </div>
                                                        <div class="form-group">
                                                            <label>Item value</label>
                                                            <input ng-model="newListItemValue" class="form-control input-sm" />
                                                        </div>
                                                         <div class="form-group">
                                                            <label>Associated Function</label>
                                                            <input type="text" ng-model="newProperty.listFunction" class="form-control input-sm" />
                                                        </div>
                                                        <div class="form-group">
                                                            <button ng-click="addListItemToListProperty()" class="btn btn-sm btn-success">Add</button>
                                                        </div>
                                                        <div class="form-group">
                                                            <table class="table table-bordered">
                                                                <tr ng-repeat="(key,value) in newProperty.items">
                                                                    <td>{{key}}</td>
                                                                    <td>{{value}}</td>
                                                                </tr>
                                                            </table>
                                                        </div>
                                                    </div>
                                                    <div id="ButtonBuilder" ng-show="newProperty.type == 'Button'" class="propertyBuilderField">
                                                        <div class="form-group">
                                                            <label>Default value</label>
                                                            <input type="text" class="form-control input-sm" />
                                                        </div>
                                                         <div class="form-group">
                                                            <label>Associated Function</label>
                                                            <input type="text" ng-model="newProperty.buttonFunction" class="form-control input-sm" />
                                                        </div>
                                                    </div>
                                                    <div id="NumberBuilder" ng-show="newProperty.type == 'Number'" class="propertyBuilderField">
                                                        <div class="form-group">
                                                            <label>Default value</label>
                                                            <input type="text" ng-model="newProperty.defaultValue" class="form-control input-sm" />
                                                        </div>
                                                         <div class="form-group">
                                                            <label>Associated Function</label>
                                                            <input type="text" ng-model="newProperty.numberFunction" class="form-control input-sm" />
                                                        </div>
                                                    </div>
                                                    <div id="TextBuilder" ng-show="newProperty.type == 'Text'" class="propertyBuilderField">
                                                        <div class="form-group">
                                                            <label>Default value</label>
                                                            <input type="text" ng-model="newProperty.defaultValue" class="form-control input-sm" />
                                                        </div>
                                                        <div class="form-group">
                                                            <label>Associated Function</label>
                                                            <input type="text" ng-model="newProperty.textFunction" class="form-control input-sm" />
                                                        </div>
                                                    </div>
                                                    <div class="form-group">
                                                        <button ng-click="addNewProperty()" class="btn btn-success btn-lg"><i class="fa fa-plus"></i> Add property</button>
                                                    </div>
                                                </div>
                                                <br/>
                                                <div class="form-group">
                                                    <p>Below you can see the preview of your object's properties</p>
                                                    <table class="table table-bordered">
                                                        <tr>
                                                            <td>Property</td>
                                                            <td>Value</td>
                                                            <td>Actions</td>
                                                        </tr>
                                                        <tr ng-repeat="(key,value) in newObject.properties">
                                                            <td>{{key}}</td>
                                                            <td>{{value}}</td>
                                                            <td>
                                                                <button class="btn btn-sm btn-danger" ng-click="removeKeyValue(key)">Remove</button>
                                                            </td>
                                                        </tr>
                                                    </table>
                                                </div>
                                                <div class="form-group">
                                                    <div class="checkbox">
                                                        <label>
                                                            <input id="Virtual" type="checkbox" ng-model="newObject.virtual" /> Virtual</label>
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <button id="create" type="button" ng-click="createNewObject()" class="btn btn-primary btn-lg">Create </button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="margin-top:20px;">
                                        <p></p>
                                    </div>
                                </div>
                                <section id="newApp" class="tab-pane">
                                    <h3>New App</h3>
                                    <div class="form-group">
                                        <button id="showWizard" type="button" ng-click="showWizard()" ng-disabled="wizardDisabled" class="btn btn-primary btn-lg">Wizard</button>
                                        <button id="showNewEditor" type="button" ng-click="showNewEditor()" ng-disabled="newEditorDisabled" class="btn btn-primary btn-lg">Editor</button>
                                    </div>
                                    <section id="NewEditorPanel" ng-hide="hideNewEditor">
                                        <h3>New Editor</h3>
                                        <wizard-editor></wizard-editor>
                                    </section>
                                    <section id="WizardPanel" class="tab-pane" ng-controller="WizardPanel as panel" ng-hide="hideWizard">
                                        <h3 ng-hide="hide" >Wizard</h3>
                                        <div ng-hide="hide" class="progress">
                                          <div class="progress-bar" role="progressbar" aria-valuenow="{{panel.progressBarValue}}" aria-valuemin="0" aria-valuemax="100" style="width: {{panel.progressBarValue}}%;">
                                            {{panel.progressBarValue}}%
                                          </div>
                                        </div>
                                        <ul ng-hide="hide" class="nav nav-tabs" role="tablist">
                                          <li ng-class="{active: panel.isSelected(1), disabled: panel.isDisabled(1)}"><a ng-click="panel.selectTab(1)" href="">Info</a></li>
                                          <li ng-class="{active: panel.isSelected(2), disabled: panel.isDisabled(2)}"><a ng-click="panel.selectTab(2)" href="">Properties</a></li>
                                          <li ng-class="{active: panel.isSelected(3), disabled: panel.isDisabled(3)}"><a ng-click="panel.selectTab(3)" href="">Micro</a></li>
                                          <li ng-class="{active: panel.isSelected(4), disabled: panel.isDisabled(4)}"><a ng-click="panel.selectTab(4)" href="">Pins</a></li>
                                          <li ng-class="{active: panel.isSelected(5), disabled: panel.isDisabled(5)}"><a ng-click="panel.selectTab(5)" href="">Comunication</a></li>
                                          <li ng-class="{active: panel.isSelected(6), disabled: panel.isDisabled(6)}"><a ng-click="panel.selectTab(6)" href="">Summary</a></li>
                                          <li ng-class="{active: panel.isSelected(7), disabled: panel.isDisabled(7)}"><a ng-click="panel.selectTab(7)" href="">Editor</a></li>
                                        </ul>
                                        
                                        <div class="panel" ng-show="panel.isSelected(1)">
                                            <h4>Info</h4>
                                            <wizard-object></wizard-object>
                                        </div>

                                        <div class="panel" ng-show="panel.isSelected(2)">
                                            <h4>Properties</h4>
                                            <wizard-properties></wizard-properties>
                                        </div>

                                        <div class="panel" ng-show="panel.isSelected(3)">
                                            <h4>Micro</h4>
                                            <wizard-micro></wizard-micro>
                                        </div>

                                        <div class="panel" ng-show="panel.isSelected(4)">
                                            <h4>Pins</h4>
                                            <wizard-pins></wizard-pins>
                                        </div>
                                        <div class="panel" ng-show="panel.isSelected(5)">
                                            <h4>Protocol</h4>
                                            <wizard-protocol></wizard-protocol>
                                        </div>
                                        <div class="panel" ng-show="panel.isSelected(6)">
                                            
                                            <wizard-summary></wizard-summary>
                                        </div>
                                        <div class="panel" ng-show="panel.isSelected(7)">
                                            <h4>Editor</h4>
                                            <wizard-editor></wizard-editor>
                                        </div>
                                    </section>
                                </section>
                            </div>
                        </div>
                        <div id="States" class="dashboardPage container-fluid">
                            <ul role="tablist" class="nav nav-tabs">
                                <li class="active"><a href="#StatesTab" role="tab" data-toggle="tab">States</a>
                                </li>
                                <li><a href="#NewStateTab" role="tab" data-toggle="tab">New state</a>
                                </li>
                            </ul>
                            <div class="tab-content">
                                <div id="NewStateTab" class="tab-pane">
                                    <div class="container-fluid">
                                        <h3>New state</h3>
                                        <div class="row">
                                            <div class="col-xs-4">
                                                <div class="panel panel-default">
                                                    <div class="panel-heading">
                                                        <h4>Preview</h4>
                                                    </div>
                                                    <div class="panel-body">
                                                        <table class="table table-bordered">
                                                            <tr ng-repeat="(key,value) in state">
                                                                <td>{{key}}</td>
                                                                <td>{{value}}</td>
                                                            </tr>
                                                        </table>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-xs-8">
                                                <div style="" class="form">
                                                    <div class="form-group">
                                                        <label>State name</label>
                                                        <input type="text" ng-model="newState.name" class="form-control input-lg" />
                                                    </div>
                                                    <div class="form-group">
                                                        <label>Object </label>
                                                        <select ng-model="newStateProperty.objectId" class="form-control input-lg">
                                                            <option ng-repeat="obj in objects track by $index" value="{{obj.objectId}}">{{obj.name}}</option>
                                                        </select>
                                                    </div>
                                                    <div class="form-group">
                                                        <div class="col-xs-4">
                                                            <input type="text" ng-model="newStateProperty.key" class="form-control input-lg" />
                                                        </div>
                                                        <div class="col-xs-4">
                                                            <input type="text" ng-model="newStateProperty.value" class="form-control input-lg" />
                                                        </div>
                                                        <div class="col-xs-4"></div>
                                                    </div>
                                                    <div class="form-group">
                                                        <button ng-click="saveState()" class="btn btn-primary">Save </button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div id="StatesTab" class="tab-pane active">
                                    <h3>States</h3>
                                    <table style="margin-top:20px;" class="table table-bordered">
                                        <thead>
                                            <tr>
                                                <th>Name</th>
                                                <th>Properties</th>
                                                <th>Action</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr ng-repeat="state in states">
                                                <td>{{state.name}}</td>
                                                <td><span ng-repeat="(k,v) in state.properties">{{k}} </span>
                                                </td>
                                                <td>
                                                    <button ng-click="deleteState(state)" class="btn btn-danger btn-sm"><i>X</i> Delete </button>
                                                    <button ng-click="applyState(state)" style="margin-left:5px;" class="btn btn-success btn-sm"><i class="fa fa-play"></i> Apply</button>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                        <div id="Events" class="dashboardPage container-fluid">
                            <h1>Events</h1>
                            <ul role="tablist" class="nav nav-tabs">
                                <li class="active"><a href="#EventsTab" role="tab" data-toggle="tab">Events</a>
                                </li>
                                <li><a href="#NewEventTab" role="tab" data-toggle="tab">New event</a>
                                </li>
                            </ul>
                            <div class="tab-content">
                                <div id="NewEventTab" class="tab-pane">
                                    <div class="container-fluid">
                                        <h3>New event</h3>
                                        <div class="row">
                                            <div class="col-xs-4">
                                                <div class="panel panel-default">
                                                    <div class="panel-heading">
                                                        <h4>Preview</h4>
                                                    </div>
                                                    <div class="panel-body">
                                                        <table class="table table-bordered">
                                                            <tr ng-repeat="(key,value) in event">
                                                                <td>{{key}}</td>
                                                                <td>{{value}}</td>
                                                            </tr>
                                                        </table>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-xs-8">
                                                <div style="" class="form">
                                                    <div class="form-group">
                                                        <label>Event name</label>
                                                        <input type="text" ng-model="event.name" class="form-control input-lg" />
                                                    </div>
                                                    <div class="form-group">
                                                        <label>Event type</label>
                                                        <select ng-model="event.type" class="form-control input-lg">
                                                            <option value="stateTriggered">State triggered</option>
                                                            <option value="timeTriggered">Time triggered</option>
                                                        </select>
                                                    </div>
                                                    <div ng-hide="event.type !== 'stateTriggered'" class="form-group">
                                                        <label>Trigger state</label>
                                                        <input type="text" ng-model="event.triggerState" class="form-control input-lg" />
                                                    </div>
                                                    <div ng-hide="event.type !== 'timeTriggered'" class="form-group">
                                                        <label>Timer</label>
                                                        <input type="datetime-local" ng-model="event.timer" class="form-control input-lg" />
                                                        <div id="timerContainer"></div>
                                                    </div>
                                                    <label>New Triggered states</label>
                                                    <div class="form-group">
                                                        <div class="row">
                                                            <div class="col-xs-8">
                                                                <select ng-model="newTriggeredState" class="form-control input-lg">
                                                                    <option ng-repeat="state in states track by $index" value="{{state.name}}">{{state.name}}</option>
                                                                </select>
                                                            </div>
                                                            <div class="col-xs-4">
                                                                <button ng-click="addTriggeredState()" class="btn btn-primary btn-lg">Add </button>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="form-group">
                                                        <label>Repeat</label>
                                                        <input type="text" ng-model="event.repeat" class="form-control input-lg" />
                                                    </div>
                                                    <div class="form-group">
                                                        <label>Tag</label>
                                                        <input type="text" ng-model="event.tag" class="form-control input-lg" />
                                                    </div>
                                                    <div class="form-group">
                                                        <button ng-click="saveEvent()" class="btn btn-primary">Save </button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div id="EventsTab" class="tab-pane active">
                                    <h3>Events</h3>
                                    <table style="margin-top:20px;" class="table table-bordered">
                                        <thead>
                                            <tr>
                                                <th>Name</th>
                                                <th>Trigger</th>
                                                <th>Triggered States</th>
                                                <th>Date</th>
                                                <th>Repeat</th>
                                                <th>Tag</th>
                                                <th>Action</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr ng-repeat="event in events">
                                                <td>{{event.name}}</td>
                                                <td>{{event.triggerState}}</td>
                                                <td>{{event.triggeredStates}}</td>
                                                <td>{{event.date}}</td>
                                                <td>{{event.repeat}}</td>
                                                <td>{{event.tag}} </td>
                                                <td>
                                                    <button ng-click="deleteEvent(event)" class="btn btn-danger btn-sm"><i>X</i> Delete </button>
                                                    <button ng-click="launchEvent(event)" style="margin-left:5px;" class="btn btn-success btn-sm"><i class="fa fa-play"></i> Launch</button>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>

<script src="/javascripts/socket.io.js"></script>
<script src="/javascripts/angular.js"></script>
<script src="/javascripts/ui-utils.js"></script>
<script src="/javascripts/jquery/dist/jquery.min.js"></script>
<script src="/bootstrap/js/bootstrap.min.js"></script>
<script type="text/javascript" src="bootstrapModal/js/bootstrap-modalmanager.js"></script>
<script type="text/javascript" src="bootstrapModal/js/bootstrap-modal.js"></script> 
<script src="/javascripts/jquery-cron/cron/jquery-cron.js"></script>
<script src="/javascripts/dashboard.bundle.js"></script>
<script type="text/javascript" src="/javascripts/bower_components/angular-ui-ace/ui-ace.js"></script>
<script type="text/javascript" src="/javascripts/bower_components/ace-builds/src-min-noconflict/ace.js"></script>
<script type="text/javascript" src="/javascripts/bower_components/angular/angular.js"></script>
<script type="text/javascript" src="/javascripts/bower_components/bootstrap-sweetalert/lib/sweet-alert.min.js"></script>
<script type="text/javascript" src="/javascripts/bower_components/angular-h-sweetalert/dist/ngSweetAlert.min.js"></script>

</html>